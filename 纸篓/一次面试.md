# 记录我在一家北京互联网公司的面试经历

## 我是怎样的以及为什么要面试

我是一名工作两年半的年轻男性程序员，主修C#后端，对语言及其运行时小有研究。做过一些简单项目。我的技术算不上好，但是自我感觉良好，工作起来也是得心应手。我从上一家公司离职半年了，打算歇一歇再找工作。来面试是因为我家里人始终认为我找不到工作，他们拼了老命地托关系找工作，这不，找到这家来了。

## 面试的开始过程

面试的初始流程是简单的，填一些资料。人事小哥给我准备了一杯开水。我对这家企业的了解并不深，只知道是安全相关，做虹膜识别，客户群体是公安行业。进到公司里面才知道，这企业占了大厦的好几层，看样是一个有实力的企业。

首先是在人事的办公室填写一番个人资料，没有什么特殊的问题，例如父母是做什么工作的，这在我之前的公司是要求填写的。人事小哥还给我送上了一杯水。

## 面试进行

人事将我领到大厦二层，那一层有这一家公司的休息室。休息室很大，里有宜家风格的家具和两个书架的书共计不到60本书。印象中有《黑客攻防实战》、《整洁代码之道》、《明朝那些事儿》还有一些小说，书大都很新。我拿起《黑客攻防实战》看了起来，这是一本2017年出版的书，书中讲了一些黑客工具和其防御手段，我的第一印象是它不是在讲人人都知道的SQL注入攻击，在我胡乱翻书的时候面试官走了进来。

我问：“平常有人来这里看书吗”，他没有回答我。

面试官是一位年长的中年男子，有些白头发了。给我的第一感觉是一个见过世面的大佬。面试开始了，我们绕过了喜闻乐见的自我介绍环节。下文的问题及对话都是我和面试官对话的大意表述，而非100%准确的描述，也存在一些记忆不清或者微小到可以省略的地方。

### Q1 介绍一下你印象最深的一个项目，你在其中做了什么工作？

他让我介绍一下我印象最深的项目，我说那是一次从单体应用向微服务应用的尝试，我们的团队完成了初步的目标，将原有项目拆成了两个模块，我没有能够详尽的描述细节（那是本文写作时一年前的事情），对我来说，印象最深的项目永远是当前的项目。我磕磕绊绊地告诉他，迁移项目主要包括数据库的迁移，从SQL Server到MySql的数据迁移，还有一些框架的变化，业务逻辑的变化。我主要负责日志输出框架Exceptionless的搭建。

### Q1 ORM使用的什么框架

我告诉他用的EF Core，他有些疑惑地问我，和Hibernate有什么区别，我说没有什么本质的区别。之后他问我为什么不选择用Hibernate，我说EF Core是微软维护的一个框架，是开源的而且有大公司维护比较有保障。C#当中有一个叫NHibernate的ORM，我没有什么了解。

### Q2 怎么处理不同数据库方言不同的问题

复杂的查询语句不多，我们会对不兼容的查询语句，另行编写新的查询语句。然后我大致说了一下数据的迁移过程，大概就是写一个软件负责实施读取被迁移的数据库表然后转移到另一个数据库中。

### Q3 你用的消息队列MQ是用来实现什么功能的

消息队列我其实了解也不深，看过两本书。团队使用消息队列主要负责一些业务产生的短信的发送功能，处于实验性质的。他问我你是怎么定义消息队列中间件的，和如何确保消息队列发送成功。我说了一下大概是通过ACK机制，事务和消息持久化。他穷追不舍地问，我的回答总会给他一种困惑，后来我知道了困惑是什么。

### Q4 项目使用了微服务，其中权限系统是怎么实现的？

我对这一块不太了解，我知道OAuth2的实现方式。自己也尝试实现过一个不成熟的授权服务器。但是工作中权限实在是太广泛了，我的陈述重点在实际使用。我们通常会基于用户的身份，显示或隐藏某些前端的操作按钮，后端不对登录人的身份做验证，只对登陆与否做验证，模块之间的API互相请求也不做权限验证，微服务之间的调用也不用权限验证。但是我们与中台之间是需要客户端模式的权限验证，对于没有那样的权限验证系统，我表示这是我们原有设计的缺漏。

### Q5 前端开发占用你多长时间

我：50%吧。

面：既然你们有前端开发，为什么还需要后端来开发前端呢。

我：我们的后端负责的前端项目是比较简单的，前端人手有限。

### Q6 你用过Vue，如何保存一个全局的变量，使浏览器重启后仍然生效。

我说将变量保存到Cookie中，他说肯定要用到Cookie。

### Q7 我看你用Github，你主要用它来做什么？你实践的项目用到过Github上的代码吗？

我：“用到过，主要关注的是一些框架，学习路线，还有一些论文上看到的代码地址，我主要是在Github上写Wiki”。

### Q8 你的职业规划?

我：我没有特别的职业规划，我当前有一些语言学习计划，打算在一年内掌握Python和Rust语言。（我已经掌握了RUST，Python的语法）

面：“RUST在国内没有广泛的应用基础，怎么选择去学RUST，而不是。。。”

我补充到：“Golang之类的？学一门新语言会对写C#代码有所帮助，程序员一年学习一门新语言是应当的”。

面试官露出很感兴趣的表情：“你还会使用C#？”，我突然有点摸不到头脑，难道他以为我用的是Java？那时我萌生一种预感，而且被这一种不好的预感当头棒喝了。

我说，“我的那些项目都是C#写的呀”。

他动了动身子：“都是用C#写的呀。。。”。

我说：“怪不得你会说使用到Hibernate”。Hibernate是Java中的ORM框架，前文说到的NHibernate正是基于该框架研发的。

这时候我感觉没戏了，后面有一些问题也记不清了。

### 后续的交流

面：“我们不是996，但在工作忙的时候基本上和996一样，闲的时候也有，不是全年都忙，你感觉你能够适应吗？”

我违心地说：“可以的”。我这么说显然是为了进入这家公司，前面说到了这是一家不小的公司，我想开开眼。

我问：“我在一本书上看到，说人一天大脑只能够满状态工作4个小时，我不认为员工能够满状态地工作那么久。”

我在这里想表达一种观点：长时间加班写的代码很难保证不出问题。

面：“别看书上说的，书上说的再对也需要实践不是吗？看那么多书不写代码有什么用？没有编码量做基础，看书是没有用的”。我点头同意

我问：“真的有人能够每天状态良好地工作那么长时间吗？我不太相信，因为就我的经验来说，我一天能满状态编程3个小时已经非常开心了”。

面：“你每天的代码量多少?”

我：“几百行吧，后端代码200-400行，难道你们每天编码几千行？”

面：“一两千行挺正常的，编码量是硬实力”

我觉得他说的有点不对劲，但是却指不出来，我只能应和道：“您说的有道理，但是我还是怀疑真的有人，有人能坚持编码那么久”。

面：“有的，公司里有一个技术大牛，经常工作到深夜，一周工作7天，当然他拿的钱也是非常的多。你比如说我，我是个中层了吧，但中秋节的时候还是得在公司加班。日常工作忙的时候是很紧凑的，基本不会有坐在电脑前边。。”

我补充道：“学习的时间”。

面：“对，学习是你应该在业余时间做的，看书学到的不也得多写才有用吗，代码写一遍跟写十遍是不一样的”

我点了点头：“您能告诉我一个完整的开发流程吗？就是那种收集需求，开发，测试，验收的过程”，我想通过流程来基本掌握它们开发的技术水平。

面：“首先会有人去收集需求，会有一个技术选择的会议，然后是分配任务，任务还是比较多的，甚至有的时候是你要负责两个项目（不确定用的是‘项目’一词：作者注）（省略了一部分忘记的内容）开发完成后进行测试”。我想这无疑是做外包业务的信号。

我问：“我问一下啊，咱们团队有几个测试”，他数了一数：“有六七个”。

我继续问：“那种自动化测试？”，他说：“自动测试和手动测试都有，有些项目例如UI是手动测试的”。的确，拥有开发总人数1/4的测试人员是软件开发的有利保证。

我问：“单元测试呢，平常开发会写单元测试吗”？我想知道在如此庞大的编码量下，程序员会不会坚持写单元测试。

面：“那是必须的，这是基本实力，出的bug也少，bug少的话绩效也好。人家写一段代码出一两个bug，你写一段代码出几十个bug，你要是我，你说应该雇谁。”

他继续说：“测试完了之后会交给客户，客户反馈再改，实际的开发流程是很复杂的。”

## 结尾

面：“你的情况我看了下，做的东西呢相对比较简单，相对，就能力来说，你现在会的和我们需要的没有多少交集，现在国内后端基本都是用Java。.NET做后端的不多，ASP.NET我们十几年前也用过，不过都逐步转成Java了，.NET还是做桌面应用的多，选择技术栈也要考虑到国内的应用场景，大厂阿里什么的也是用Java。”。

我简单的回应：“是”

之后是一些常见的面试环节：“还有什么问题吗”。

在离开座位的时候，我不由自主地问道：“您编码几年了”，我问出这问题也让我挺惊讶的。

“十几年了”。

我背起我的惆怅下了楼。



