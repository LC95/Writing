# 《代码不朽》给出的10条编程建议

1. 编写短小的代码单元
   * 代码单元的长度应该限制在15行代码以内
   * 你不应该编写超过15行代码的单元， 或者将长的单元分解为多个短的单元
   * 短小的单元利于理解，测试和重用

2. 编写简单的代码单元
   * 限制每个代码单元分支点的数量不超过4个
   * 将复杂的代码单元拆分成更简单的单元
   * 分支点越少，代码单元更容易被理解和测试
   > 以下操作符被认为是分支点
   > * `if`
   > * `case`
   > * `?, ??`
   > * `&&, ||`
   > * `while`
   > * `for, foreach`
   > * `catch`

3. 不写重复代码
   * 不要复制代码
   * 编写可重用的，通用的代码，调用已有的代码
   * 复制代码就要在多个地方修改bug
   > 重复代码: 一段至少六行都相同的代码
    ```CSharp
    public void SetGivenName(string givenName)
    {
        this.givenName = givenName;
    }
    public void SetFamillyName(string famillyName)
    {
        this.famillyName = famillyName;
    }
    ```

4. 保持代码单元的接口简单
   * 限制每个代码单元的参数不能超过4个
   * 将多个参数提取成对象
   * 较少的参数可以让代码单元更容易理解和重用
  
5. 分离模块之间的关注点
   * 避免形成大型模块，以便能够达到模块之间的松耦合
   * 将不同的职责分给不同的模块， 并且隐藏接口内部的实现细节
   * 松耦合代码库的修改更容易监督和执行
  
6. 架构组件松耦合
   * 顶层组件之间应该做到松耦合
   * 减少当前模块中需要暴露给其他组件中模块的相关代码
   * 独立的组件可以单独进行维护

7. 保持架构组件之间的平衡
   * 你需要平衡代码中顶层组件的数量和体积
   * 保持源代码中组件的数量接近于9并且这些组件的体积基本一致
   * 平衡的组件可以帮助定位代码，并且允许独立对组件进行维护

8. 保持小规模代码库
   * 保持代码库的规则尽可能小
   * 控制代码库增长，并主动减少系统的代码体积
   * 拥有小型的代码，项目和团队是成功的一个因素
  
9. 自动化开发部署和测试
    * 对你的框架进行自动化测试
    * 使用测试框架来编写自动化测试
    * 自动化测试让开发过程可预测并且能够降低风险
   > 编写良好单元测试的基本原则
   > 1. 正常情况和特殊情况都要测试
   > 2. 像维护生产代码一样维护测试代码
   > 3. 编写独立的测试： 他们的输出应该只反映被测试主体的行为

10. 编写简洁的代码
    * 编写简洁的代码
    * 不应该在完成开发工作后留下代码坏味道
    * 简洁的代码是可维护的代码
    > 7条开发人员的"童子军军规":
    > 1. 不要编写单元测试级别的代码坏味道
    > 2. 不要编写不好的注释
    > 3. 不要注释代码
    > 4. 不要保留废弃代码
    > 5. 不要使用过长的标识符名称
    > 6. 不要使用魔术常量
    > 7. 不要使用未正确处理的异常
